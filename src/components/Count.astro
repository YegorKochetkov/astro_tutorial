---
import { counterState as counter } from "../scripts/countStore.js";
---

<style is:global>
	.count {
		padding: 15px 20px;
		min-width: max-content;
		align-self: flex-start;

		text-align: center;
		text-transform: uppercase;

		font-size: 1.2rem;
		font-weight: bold;
	}
</style>

<div id="count" class="count">Count: {counter.val}</div>

<script>
	import van from "../scripts/van-1.5.0.min.js";
	import { counterState as count } from "../scripts/countStore.js";
	const { div } = van.tags;

	const CurrCount = () => {
		return div({ class: "count" }, "Count: ", count);
	};

	document.addEventListener("astro:page-load", () => {
		document.querySelector("#count")!.replaceWith(CurrCount());
	});
</script>
